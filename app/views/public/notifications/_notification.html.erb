<% visitor = notification.visitor %>
<% visited = notification.visited %>

<table class="table">
	<td>
		<%= link_to user_path(visitor) do %>
			<%= attachment_image_tag visitor, :image, format: 'jpeg', fallback: "no_image.jpg", size: "20x20" %>
			<%= visitor.name %>
		<% end %>
		さんが

		<% case notification.action
		when 'follow' then %>
			あなたをフォローしました
		<% when 'like' then %>
			<%= link_to notification.post do %>
				<%= attachment_image_tag notification.post, :image, format: 'jpeg', fallback: "no_image.jpg", size: "20x20" %>あなたの投稿に
			<% end %>
			いいねしました
		<% when 'post_comment' then %>
			<%= link_to notification.post do %>
				<%= attachment_image_tag notification.post, :image, format: 'jpeg', fallback: "no_image.jpg", size: "20x20" %>あなたの投稿に
			<% end %>
			<% PostComment.find_by(id: notification.post_comment.id)&.comment %>
			コメントしました
		<% end %>
	</td>
	<td><%= time_ago_in_words(notification.created_at).upcase %>前</td>
</table>
